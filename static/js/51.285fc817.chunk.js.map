{"version":3,"file":"static/js/51.285fc817.chunk.js","mappings":"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","sources":["components/CompanyDetail.js","components/Navbar.js"],"sourcesContent":["// src/components/CompanyDetail.jsx\nimport React, { useEffect, useState } from 'react';\nimport { useParams } from 'react-router-dom';\nimport {\n  doc,\n  getDoc,\n  addDoc,\n  collection,\n  query,\n  where,\n  getDocs,\n  serverTimestamp,\n} from 'firebase/firestore';\nimport { db } from '../firebase';\nimport { getAuth } from 'firebase/auth';\nimport Navbar from './Navbar';\n\nconst CompanyDetail = () => {\n  const { id } = useParams();\n  const [company, setCompany] = useState(null);\n  const [modalImage, setModalImage] = useState(null);\n  const [showChat, setShowChat] = useState(false);\n  const [messageText, setMessageText] = useState('');\n  const [chatMessages, setChatMessages] = useState([]);\n  const [loadingMessages, setLoadingMessages] = useState(false);\n\n  const auth = getAuth();\n  const currentUser = auth.currentUser;\n\n  useEffect(() => {\n    const fetchCompany = async () => {\n      const docRef = doc(db, 'postorder', id);\n      const docSnap = await getDoc(docRef);\n      if (docSnap.exists()) setCompany({ id: docSnap.id, ...docSnap.data() });\n    };\n    fetchCompany();\n  }, [id]);\n\n  const fetchMessages = async () => {\n    if (!currentUser || !company?.vendorid) return;\n    setLoadingMessages(true);\n    const q = query(\n      collection(db, 'webchat'),\n      where('senderId', 'in', [currentUser.uid, company.vendorid]),\n      where('receiverId', 'in', [currentUser.uid, company.vendorid])\n    );\n    const snap = await getDocs(q);\n    const msgs = snap.docs.map(d => ({ id: d.id, ...d.data() }));\n    msgs.sort((a, b) => a.time?.seconds - b.time?.seconds);\n    setChatMessages(msgs);\n    setLoadingMessages(false);\n  };\n\n  const handleSendMessage = async () => {\n    if (!messageText.trim() || !currentUser || !company?.vendorid) return;\n    const messageData = {\n      senderId: currentUser.uid,\n      senderName: currentUser.displayName || 'Anonymous',\n      receiverId: company.vendorid,\n      receiverName: company.businessname,\n      message: messageText.trim(),\n      time: serverTimestamp(),\n      isRead: false,\n    };\n    await addDoc(collection(db, 'webchat'), messageData);\n    setMessageText('');\n    fetchMessages();\n  };\n\n  if (!company) return <p style={styles.loading}>Loading...</p>;\n\n  const menuImages = [...new Set(company.menu || [])];\n\n  return (\n    <div style={{ background: '#f1f5f9', minHeight: '100vh', paddingBottom: '40px' }}>\n      <Navbar />\n\n      <div style={styles.card}>\n        <div style={styles.header}>\n          <img\n            src={company.image || '/images/default.jpg'}\n            alt={company.businessname}\n            style={styles.mainImage}\n            onError={e => (e.target.style.display = 'none')}\n          />\n          <div>\n            <h1 style={styles.companyName}>{company.businessname}</h1>\n            <p style={styles.category}><strong>Category:</strong> {company.eventname}</p>\n          </div>\n        </div>\n\n        <div style={styles.infoGrid}>\n          <InfoBox icon=\"fa-user\" label=\"Owner\" value={company.name} />\n          <InfoBox icon=\"fa-map-marker-alt\" label=\"Location\" value={company.location} />\n          <InfoBox icon=\"fa-calendar-alt\" label=\"Posting Date\" value=\"27-APR-25\" />\n          <InfoBox icon=\"fa-phone\" label=\"Mobile\" value={company.mobilenumber} />\n          <InfoBox icon=\"fa-clock\" label=\"Working Hours\" value={company.hours} />\n          <InfoBox icon=\"fa-briefcase\" label=\"Experience\" value={`${company.exprience} years`} />\n        </div>\n\n        <div style={styles.infoBox}>\n          <div style={styles.infoHeader}>\n            <i className=\"fas fa-align-left\" style={styles.icon}></i>\n            <span style={styles.infoLabel}>Description</span>\n          </div>\n          <div style={styles.infoContent}>\n            <p>{company.description}</p>\n          </div>\n        </div>\n\n        {menuImages.length > 0 && (\n          <div style={styles.menuContainer}>\n            <h2 style={styles.subheading}>Menu Gallery</h2>\n            <div style={styles.menuGrid}>\n              {menuImages.map((url, idx) => (\n                <div key={idx} style={styles.menuImageWrapper}>\n                  <img\n                    src={url}\n                    alt={`Menu ${idx + 1}`}\n                    style={styles.menuImage}\n                    onClick={() => setModalImage(url)}\n                    onError={e => (e.target.style.display = 'none')}\n                  />\n                </div>\n              ))}\n            </div>\n          </div>\n        )}\n\n        <div style={styles.chatButtonWrapper}>\n          <button\n            style={styles.chatButton}\n            onClick={() => { setShowChat(true); fetchMessages(); }}\n          >\n            Chat with Vendor\n          </button>\n        </div>\n      </div>\n\n      {showChat && (\n        <div style={styles.chatModal}>\n          <div style={styles.chatHeader}>\n            <span>Chat with {company.businessname}</span>\n            <button style={styles.closeBtn} onClick={() => setShowChat(false)}>×</button>\n          </div>\n          <div style={styles.chatBody}>\n            {loadingMessages\n              ? <p>Loading messages…</p>\n              : chatMessages.map(msg => (\n                <div\n                  key={msg.id}\n                  style={{\n                    ...styles.messageBubble,\n                    alignSelf: msg.senderId === currentUser.uid ? 'flex-end' : 'flex-start',\n                    backgroundColor: msg.senderId === currentUser.uid ? '#005f7f' : '#e4e6eb',\n                    color: msg.senderId === currentUser.uid ? '#fff' : '#000',\n                  }}\n                >\n                  {msg.message}\n                </div>\n              ))\n            }\n          </div>\n          <div style={styles.chatInputArea}>\n            <input\n              style={styles.chatInput}\n              value={messageText}\n              onChange={e => setMessageText(e.target.value)}\n              placeholder=\"Type a message…\"\n            />\n            <button style={styles.sendBtn} onClick={handleSendMessage}>Send</button>\n          </div>\n        </div>\n      )}\n\n      {modalImage && (\n        <div style={styles.modalOverlay} onClick={() => setModalImage(null)}>\n          <img src={modalImage} alt=\"Menu\" style={styles.modalImage} />\n        </div>\n      )}\n    </div>\n  );\n};\n\n// Reusable Info Box Component\nconst InfoBox = ({ icon, label, value }) => (\n  <div style={styles.infoBox}>\n    <div style={styles.infoHeader}>\n      <i className={`fas ${icon}`} style={styles.icon}></i>\n      <span style={styles.infoLabel}>{label}</span>\n    </div>\n    <div style={styles.infoContent}>{value || 'N/A'}</div>\n  </div>\n);\n\nconst styles = {\n  card: {\n    backgroundColor: '#fff',\n    maxWidth: '1000px',\n    margin: '30px auto',\n    borderRadius: '12px',\n    padding: '30px',\n    boxShadow: '0 4px 12px rgba(0,0,0,0.1)',\n  },\n  header: {\n    display: 'flex',\n    flexDirection: 'row',\n    gap: '30px',\n    alignItems: 'center',\n    marginBottom: '30px',\n  },\n  companyName: {\n    fontSize: '30px',\n    fontWeight: '700',\n    color: '#005f7f',\n  },\n  category: {\n    fontSize: '18px',\n    color: '#555',\n  },\n  mainImage: {\n    width: '200px',\n    height: '200px',\n    objectFit: 'cover',\n    borderRadius: '12px',\n  },\n  infoGrid: {\n    display: 'grid',\n    gridTemplateColumns: 'repeat(auto-fit, minmax(260px, 1fr))',\n    gap: '20px',\n    marginBottom: '30px',\n  },\n  infoBox: {\n    background: '#f9fafb',\n    borderRadius: '10px',\n    padding: '16px',\n    border: '1px solid #e5e7eb',\n  },\n  infoHeader: {\n    display: 'flex',\n    alignItems: 'center',\n    marginBottom: '10px',\n    fontWeight: '600',\n    fontSize: '16px',\n  },\n  icon: {\n    marginRight: '10px',\n    color: '#005f7f',\n  },\n  infoLabel: {\n    fontSize: '16px',\n  },\n  infoContent: {\n    fontSize: '15px',\n    color: '#374151',\n  },\n  menuContainer: {\n    marginTop: '20px',\n  },\n  subheading: {\n    fontSize: '22px',\n    fontWeight: '600',\n    marginBottom: '16px',\n    color: '#005f7f',\n    textAlign: 'center',\n  },\n  menuGrid: {\n    display: 'grid',\n    gridTemplateColumns: 'repeat(auto-fill, minmax(180px, 1fr))',\n    gap: '16px',\n  },\n  menuImageWrapper: { overflow: 'hidden', borderRadius: '8px' },\n  menuImage: {\n    width: '100%',\n    height: 'auto',\n    borderRadius: '8px',\n    cursor: 'pointer',\n  },\n  chatButtonWrapper: {\n    display: 'flex',\n    justifyContent: 'center',\n    marginTop: '30px',\n  },\n  chatButton: {\n    padding: '12px 24px',\n    backgroundColor: '#005f7f',\n    color: '#fff',\n    border: 'none',\n    borderRadius: '6px',\n    cursor: 'pointer',\n    fontSize: '16px',\n    fontWeight: '600',\n  },\n  chatModal: {\n    position: 'fixed',\n    bottom: '20px',\n    right: '20px',\n    width: '320px',\n    backgroundColor: '#fff',\n    borderRadius: '12px',\n    boxShadow: '0 4px 12px rgba(0,0,0,0.2)',\n    display: 'flex',\n    flexDirection: 'column',\n    zIndex: 2000,\n  },\n  chatHeader: {\n    padding: '12px 16px',\n    backgroundColor: '#005f7f',\n    color: '#fff',\n    borderTopLeftRadius: '12px',\n    borderTopRightRadius: '12px',\n    display: 'flex',\n    justifyContent: 'space-between',\n    alignItems: 'center',\n    fontWeight: '600',\n  },\n  closeBtn: {\n    background: 'none',\n    border: 'none',\n    color: '#fff',\n    fontSize: '20px',\n    cursor: 'pointer',\n  },\n  chatBody: {\n    padding: '10px',\n    maxHeight: '300px',\n    overflowY: 'auto',\n    display: 'flex',\n    flexDirection: 'column',\n    gap: '8px',\n  },\n  messageBubble: {\n    maxWidth: '75%',\n    padding: '10px 14px',\n    borderRadius: '16px',\n    fontSize: '14px',\n  },\n  chatInputArea: {\n    display: 'flex',\n    borderTop: '1px solid #ccc',\n  },\n  chatInput: {\n    flex: 1,\n    padding: '10px',\n    border: 'none',\n    fontSize: '14px',\n    outline: 'none',\n  },\n  sendBtn: {\n    padding: '10px 16px',\n    backgroundColor: '#005f7f',\n    color: '#fff',\n    border: 'none',\n    cursor: 'pointer',\n    fontSize: '14px',\n  },\n  modalOverlay: {\n    position: 'fixed',\n    top: 0,\n    left: 0,\n    width: '100vw',\n    height: '100vh',\n    backgroundColor: 'rgba(0,0,0,0.8)',\n    display: 'flex',\n    justifyContent: 'center',\n    alignItems: 'center',\n    zIndex: 1000,\n  },\n  modalImage: {\n    maxWidth: '90%',\n    maxHeight: '90%',\n    borderRadius: '8px',\n  },\n  loading: {\n    color: '#005f7f',\n    textAlign: 'center',\n    padding: '40px',\n    fontSize: '18px',\n  },\n};\n\nexport default CompanyDetail;\n","// src/components/Navbar.js\nimport React, { useState, useEffect } from 'react';\nimport {\n  FaBars,\n  FaTimes,\n  FaSearch,\n  FaShoppingCart,\n  FaUser,\n  FaEnvelope\n} from 'react-icons/fa';\nimport { useNavigate } from 'react-router-dom';\nimport { db } from '../firebase';\nimport { collection, query, where, getDocs, orderBy } from 'firebase/firestore';\nimport { getAuth } from 'firebase/auth';\n\nconst Navbar = () => {\n  const [searchQuery, setSearchQuery] = useState('');\n  const [companies, setCompanies] = useState([]);\n  const [loading, setLoading] = useState(false);\n  const [menuOpen, setMenuOpen] = useState(false);\n  const navigate = useNavigate();\n  const auth = getAuth();\n  const user = auth.currentUser;\n\n  useEffect(() => {\n    const fetchMessages = async () => {\n      if (!user) return;\n      try {\n        const q = query(\n          collection(db, 'webchat'),\n          where('receiverId', '==', user.uid),\n          orderBy('time', 'desc')\n        );\n        await getDocs(q); // Not used for display in navbar currently\n      } catch (err) {\n        console.error('Error fetching messages:', err);\n      }\n    };\n    fetchMessages();\n  }, [user]);\n\n  const handleSearch = async (e) => {\n    const qText = e.target.value;\n    setSearchQuery(qText);\n\n    if (!qText) {\n      setCompanies([]);\n      return;\n    }\n\n    setLoading(true);\n    try {\n      const q = query(\n        collection(db, 'postorder'),\n        where('businessname', '>=', qText),\n        where('businessname', '<=', qText + '\\uf8ff')\n      );\n      const snap = await getDocs(q);\n      setCompanies(snap.docs.map(doc => ({ id: doc.id, ...doc.data() })));\n    } catch (err) {\n      console.error('Error fetching companies:', err);\n    } finally {\n      setLoading(false);\n    }\n  };\n\n  const handleSelect = (company) => {\n    navigate(`/company/${company.id}`);\n    setSearchQuery('');\n    setCompanies([]);\n    setMenuOpen(false);\n  };\n\n  return (\n    <nav className=\"navbar\">\n      <div className=\"navbar-main\">\n        <div className=\"nav-left\">\n          <div className=\"navbar-logo\">PlanOra</div>\n        </div>\n\n        <div className=\"nav-center\">\n          <div className=\"navbar-search\">\n            <FaSearch className=\"search-icon\" />\n            <input\n              type=\"text\"\n              placeholder=\"Search...\"\n              value={searchQuery}\n              onChange={handleSearch}\n            />\n            {searchQuery && (\n              <div className=\"search-results\">\n                {loading ? (\n                  <div className=\"loading\">Loading...</div>\n                ) : companies.length ? (\n                  companies.map((c) => (\n                    <div\n                      key={c.id}\n                      className=\"result-item\"\n                      onClick={() => handleSelect(c)}\n                    >\n                      {c.businessname}\n                    </div>\n                  ))\n                ) : (\n                  <div className=\"no-results\">No matches found</div>\n                )}\n              </div>\n            )}\n          </div>\n        </div>\n\n        <div className=\"nav-right\">\n          <ul className={`nav-links ${menuOpen ? 'active' : ''}`}>\n            <li onClick={() => { navigate('/home'); setMenuOpen(false); }}>Home</li>\n            <li onClick={() => { navigate('/orders'); setMenuOpen(false); }}>Orders</li>\n            <li onClick={() => { navigate('/post-order'); setMenuOpen(false); }}>Post Order</li>\n            <li onClick={() => { navigate('/profile'); setMenuOpen(false); }}><FaUser /> Profile</li>\n            <li onClick={() => { navigate('/messages'); setMenuOpen(false); }}><FaEnvelope /> Messages</li>\n            <li onClick={() => { navigate('/cart'); setMenuOpen(false); }}><FaShoppingCart /> Cart</li>\n          </ul>\n        </div>\n\n        <div className=\"hamburger\" onClick={() => setMenuOpen(prev => !prev)}>\n          {menuOpen ? <FaTimes /> : <FaBars />}\n        </div>\n      </div>\n\n      <style>{`\n        * {\n          box-sizing: border-box;\n          margin: 0;\n          padding: 0;\n        }\n        .navbar {\n          background: #003f66;\n          color: #fff;\n          padding: 0.5rem 1rem;\n          position: sticky;\n          top: 0;\n          z-index: 1000;\n        }\n        .navbar-main {\n          display: flex;\n          align-items: center;\n          justify-content: space-between;\n          flex-wrap: wrap;\n        }\n\n        .nav-left {\n          flex: 1;\n        }\n\n        .nav-center {\n          flex: 2;\n          display: flex;\n          justify-content: center;\n        }\n\n        .nav-right {\n          flex: 2;\n          display: flex;\n          justify-content: flex-end;\n        }\n\n        .navbar-logo {\n          font-size: 1.5rem;\n          font-weight: bold;\n        }\n\n        .navbar-search {\n          position: relative;\n          width: 100%;\n          max-width: 400px;\n          background: rgba(255,255,255,0.2);\n          border-radius: 20px;\n          display: flex;\n          align-items: center;\n          padding: 0.3rem 0.75rem;\n        }\n\n        .navbar-search input {\n          flex: 1;\n          background: transparent;\n          border: none;\n          color: #fff;\n          margin-left: 0.5rem;\n          font-size: 0.9rem;\n          outline: none;\n        }\n\n        .search-icon {\n          color: #ddd;\n        }\n\n        .search-results {\n          position: absolute;\n          top: 110%;\n          left: 0;\n          width: 100%;\n          background: #fff;\n          color: #333;\n          border-radius: 0 0 10px 10px;\n          box-shadow: 0 4px 12px rgba(0,0,0,0.15);\n          max-height: 200px;\n          overflow-y: auto;\n          z-index: 1001;\n        }\n\n        .result-item, .loading, .no-results {\n          padding: 0.5rem;\n          border-bottom: 1px solid #eee;\n          cursor: pointer;\n        }\n\n        .result-item:hover {\n          background: #f0f0f0;\n        }\n\n        .hamburger {\n          display: none;\n          font-size: 1.5rem;\n          color: #fff;\n          cursor: pointer;\n        }\n\n        .nav-links {\n          list-style: none;\n          display: flex;\n          gap: 1.5rem;\n          align-items: center;\n        }\n\n        .nav-links li {\n          cursor: pointer;\n          padding: 0.5rem;\n          border-radius: 6px;\n          transition: background 0.2s;\n          display: flex;\n          align-items: center;\n          gap: 0.3rem;\n        }\n\n        .nav-links li:hover {\n          background: rgba(255, 255, 255, 0.2);\n        }\n\n        @media (max-width: 768px) {\n          .nav-center {\n            order: 3;\n            width: 100%;\n            margin-top: 10px;\n          }\n\n          .nav-right {\n            width: 100%;\n            justify-content: center;\n          }\n\n          .nav-links {\n            display: ${menuOpen ? 'flex' : 'none'};\n            flex-direction: column;\n            width: 100%;\n            margin-top: 1rem;\n          }\n\n          .hamburger {\n            display: block;\n          }\n        }\n      `}</style>\n    </nav>\n  );\n};\n\nexport default Navbar;\n"],"names":["InfoBox","_ref","icon","label","value","_jsxs","style","styles","infoBox","children","infoHeader","_jsx","className","infoLabel","infoContent","card","backgroundColor","maxWidth","margin","borderRadius","padding","boxShadow","header","display","flexDirection","gap","alignItems","marginBottom","companyName","fontSize","fontWeight","color","category","mainImage","width","height","objectFit","infoGrid","gridTemplateColumns","background","border","marginRight","menuContainer","marginTop","subheading","textAlign","menuGrid","menuImageWrapper","overflow","menuImage","cursor","chatButtonWrapper","justifyContent","chatButton","chatModal","position","bottom","right","zIndex","chatHeader","borderTopLeftRadius","borderTopRightRadius","closeBtn","chatBody","maxHeight","overflowY","messageBubble","chatInputArea","borderTop","chatInput","flex","outline","sendBtn","modalOverlay","top","left","modalImage","loading","CompanyDetail","id","useParams","company","setCompany","useState","setModalImage","showChat","setShowChat","messageText","setMessageText","chatMessages","setChatMessages","loadingMessages","setLoadingMessages","currentUser","getAuth","useEffect","async","docRef","doc","db","docSnap","getDoc","exists","data","fetchCompany","fetchMessages","vendorid","q","query","collection","where","uid","msgs","getDocs","docs","map","d","sort","a","b","_a$time","_b$time","time","seconds","menuImages","Set","menu","minHeight","paddingBottom","Navbar","src","image","alt","businessname","onError","e","target","eventname","name","location","mobilenumber","hours","exprience","description","length","url","idx","onClick","msg","alignSelf","senderId","message","onChange","placeholder","trim","messageData","senderName","displayName","receiverId","receiverName","serverTimestamp","isRead","addDoc","searchQuery","setSearchQuery","companies","setCompanies","setLoading","menuOpen","setMenuOpen","navigate","useNavigate","user","orderBy","err","console","error","FaSearch","type","qText","snap","c","FaUser","FaEnvelope","FaShoppingCart","prev","FaTimes","FaBars"],"sourceRoot":""}