"use strict";(self.webpackChunkplan=self.webpackChunkplan||[]).push([[296],{296:(n,e,r)=>{r.r(e),r.d(e,{default:()=>x});var i=r(43),o=r(791),a=r(472),s=r(216),t=r(16),l=r(999),d=r(579);const c={container:{padding:"40px",backgroundColor:"#f1f5f9",minHeight:"100vh"},heading:{textAlign:"center",color:"#005f7f",fontSize:"32px",marginBottom:"20px"},card:{maxWidth:"700px",margin:"0 auto",backgroundColor:"#fff",borderRadius:"12px",padding:"30px",boxShadow:"0 4px 12px rgba(0,0,0,0.1)",textAlign:"center"},profileImage:{width:"160px",height:"160px",objectFit:"cover",borderRadius:"50%",marginBottom:"20px",border:"3px solid #005f7f"},infoSection:{marginTop:"20px",textAlign:"left"},infoBox:{background:"#f9fafb",borderRadius:"10px",padding:"16px",marginBottom:"16px",border:"1px solid #e5e7eb",position:"relative"},infoHeader:{display:"flex",alignItems:"center",marginBottom:"8px",fontWeight:"600",fontSize:"16px"},icon:{marginRight:"10px",color:"#005f7f"},editIcon:{marginLeft:"auto",color:"#005f7f",cursor:"pointer"},label:{fontSize:"16px"},infoContent:{fontSize:"15px",color:"#374151"},input:{flex:1,padding:"10px",fontSize:"15px",borderRadius:"8px",border:"1px solid #ccc",outline:"none"},saveButton:{padding:"8px 12px",fontSize:"14px",borderRadius:"6px",backgroundColor:"#005f7f",color:"#fff",border:"none",cursor:"pointer"},logoutButton:{marginTop:"30px",padding:"10px 24px",backgroundColor:"#ff4d4d",color:"#fff",border:"none",borderRadius:"6px",fontSize:"16px",fontWeight:"600",cursor:"pointer"},loading:{textAlign:"center",fontSize:"18px",color:"#005f7f",paddingTop:"40px"}},x=()=>{const[n,e]=(0,i.useState)(null),[r,x]=(0,i.useState)(null),[f,p]=(0,i.useState)(""),{currentUser:u,logout:g}=(0,t.A)(),h=(0,s.Zp)(),m=u?(0,a.H9)(o.db,"user",u.uid):null;(0,i.useEffect)((()=>{(async()=>{try{if(u&&m){const n=await(0,a.x7)(m);n.exists()&&e(n.data())}}catch(n){console.error("Error fetching user data:",n)}})()}),[u,m]);const b=n=>{p(n.target.value)},v=async()=>{try{const n={[r]:f};await(0,a.mZ)(m,n),e((e=>({...e,...n}))),x(null)}catch(n){console.error("Error updating field:",n)}};if(!n)return(0,d.jsx)("p",{style:c.loading,children:"Loading..."});const j=(e,i,o)=>(0,d.jsxs)("div",{style:c.infoBox,children:[(0,d.jsxs)("div",{style:c.infoHeader,children:[(0,d.jsx)("i",{className:`fas ${o}`,style:c.icon}),(0,d.jsx)("span",{style:c.label,children:e}),(0,d.jsx)("i",{className:"fas fa-pen edit-icon",style:c.editIcon,onClick:()=>{return x(e=i),void p(n[e]||"");var e}})]}),r===i?(0,d.jsxs)("div",{style:{display:"flex",gap:"8px",alignItems:"center"},children:[(0,d.jsx)("input",{type:"text",name:i,value:f,onChange:b,style:c.input}),(0,d.jsx)("button",{onClick:v,style:c.saveButton,children:"Save"})]}):(0,d.jsx)("div",{style:c.infoContent,children:n[i]||"N/A"})]});return(0,d.jsxs)("div",{children:[(0,d.jsx)(l.A,{})," ",(0,d.jsxs)("div",{style:c.container,children:[(0,d.jsx)("h1",{style:c.heading,children:"My Profile"}),(0,d.jsxs)("div",{style:c.card,children:[(0,d.jsx)("img",{src:n.profilePicture||"/images/default-profile.jpg",alt:"Profile",style:c.profileImage}),(0,d.jsxs)("div",{style:c.infoSection,children:[j("Full Name","fullName","fa-user"),j("Email","email","fa-envelope"),j("Phone Number","phone","fa-phone"),j("Profile Picture URL","profilePicture","fa-image")]}),(0,d.jsx)("button",{onClick:async()=>{try{await g(),h("/login")}catch(n){console.error("Error logging out:",n)}},style:c.logoutButton,children:"Logout"})]})]})]})}},999:(n,e,r)=>{r.d(e,{A:()=>c});var i=r(43),o=r(204),a=r(216),s=r(791),t=r(472),l=r(729),d=r(579);const c=()=>{const[n,e]=(0,i.useState)(""),[r,c]=(0,i.useState)([]),[x,f]=(0,i.useState)(!1),[p,u]=(0,i.useState)(!1),g=(0,a.Zp)(),h=(0,l.xI)().currentUser;(0,i.useEffect)((()=>{(async()=>{if(h)try{const n=(0,t.P)((0,t.rJ)(s.db,"webchat"),(0,t._M)("receiverId","==",h.uid),(0,t.My)("time","desc"));await(0,t.GG)(n)}catch(n){console.error("Error fetching messages:",n)}})()}),[h]);return(0,d.jsxs)("nav",{className:"navbar",children:[(0,d.jsxs)("div",{className:"navbar-main",children:[(0,d.jsx)("div",{className:"nav-left",children:(0,d.jsx)("div",{className:"navbar-logo",children:"PlanOra"})}),(0,d.jsx)("div",{className:"nav-center",children:(0,d.jsxs)("div",{className:"navbar-search",children:[(0,d.jsx)(o.KSO,{className:"search-icon"}),(0,d.jsx)("input",{type:"text",placeholder:"Search...",value:n,onChange:async n=>{const r=n.target.value;if(e(r),r){f(!0);try{const n=(0,t.P)((0,t.rJ)(s.db,"postorder"),(0,t._M)("businessname",">=",r),(0,t._M)("businessname","<=",r+"\uf8ff")),e=await(0,t.GG)(n);c(e.docs.map((n=>({id:n.id,...n.data()}))))}catch(i){console.error("Error fetching companies:",i)}finally{f(!1)}}else c([])}}),n&&(0,d.jsx)("div",{className:"search-results",children:x?(0,d.jsx)("div",{className:"loading",children:"Loading..."}):r.length?r.map((n=>(0,d.jsx)("div",{className:"result-item",onClick:()=>(g(`/company/${n.id}`),e(""),c([]),void u(!1)),children:n.businessname},n.id))):(0,d.jsx)("div",{className:"no-results",children:"No matches found"})})]})}),(0,d.jsx)("div",{className:"nav-right",children:(0,d.jsxs)("ul",{className:"nav-links "+(p?"active":""),children:[(0,d.jsx)("li",{onClick:()=>{g("/home"),u(!1)},children:"Home"}),(0,d.jsx)("li",{onClick:()=>{g("/orders"),u(!1)},children:"Orders"}),(0,d.jsx)("li",{onClick:()=>{g("/post-order"),u(!1)},children:"Post Order"}),(0,d.jsxs)("li",{onClick:()=>{g("/profile"),u(!1)},children:[(0,d.jsx)(o.x$1,{})," Profile"]}),(0,d.jsxs)("li",{onClick:()=>{g("/messages"),u(!1)},children:[(0,d.jsx)(o.maD,{})," Messages"]}),(0,d.jsxs)("li",{onClick:()=>{g("/cart"),u(!1)},children:[(0,d.jsx)(o.AsH,{})," Cart"]})]})}),(0,d.jsx)("div",{className:"hamburger",onClick:()=>u((n=>!n)),children:p?(0,d.jsx)(o.QCr,{}):(0,d.jsx)(o.OXb,{})})]}),(0,d.jsx)("style",{children:`\n        * {\n          box-sizing: border-box;\n          margin: 0;\n          padding: 0;\n        }\n        .navbar {\n          background: #003f66;\n          color: #fff;\n          padding: 0.5rem 1rem;\n          position: sticky;\n          top: 0;\n          z-index: 1000;\n        }\n        .navbar-main {\n          display: flex;\n          align-items: center;\n          justify-content: space-between;\n          flex-wrap: wrap;\n        }\n\n        .nav-left {\n          flex: 1;\n        }\n\n        .nav-center {\n          flex: 2;\n          display: flex;\n          justify-content: center;\n        }\n\n        .nav-right {\n          flex: 2;\n          display: flex;\n          justify-content: flex-end;\n        }\n\n        .navbar-logo {\n          font-size: 1.5rem;\n          font-weight: bold;\n        }\n\n        .navbar-search {\n          position: relative;\n          width: 100%;\n          max-width: 400px;\n          background: rgba(255,255,255,0.2);\n          border-radius: 20px;\n          display: flex;\n          align-items: center;\n          padding: 0.3rem 0.75rem;\n        }\n\n        .navbar-search input {\n          flex: 1;\n          background: transparent;\n          border: none;\n          color: #fff;\n          margin-left: 0.5rem;\n          font-size: 0.9rem;\n          outline: none;\n        }\n\n        .search-icon {\n          color: #ddd;\n        }\n\n        .search-results {\n          position: absolute;\n          top: 110%;\n          left: 0;\n          width: 100%;\n          background: #fff;\n          color: #333;\n          border-radius: 0 0 10px 10px;\n          box-shadow: 0 4px 12px rgba(0,0,0,0.15);\n          max-height: 200px;\n          overflow-y: auto;\n          z-index: 1001;\n        }\n\n        .result-item, .loading, .no-results {\n          padding: 0.5rem;\n          border-bottom: 1px solid #eee;\n          cursor: pointer;\n        }\n\n        .result-item:hover {\n          background: #f0f0f0;\n        }\n\n        .hamburger {\n          display: none;\n          font-size: 1.5rem;\n          color: #fff;\n          cursor: pointer;\n        }\n\n        .nav-links {\n          list-style: none;\n          display: flex;\n          gap: 1.5rem;\n          align-items: center;\n        }\n\n        .nav-links li {\n          cursor: pointer;\n          padding: 0.5rem;\n          border-radius: 6px;\n          transition: background 0.2s;\n          display: flex;\n          align-items: center;\n          gap: 0.3rem;\n        }\n\n        .nav-links li:hover {\n          background: rgba(255, 255, 255, 0.2);\n        }\n\n        @media (max-width: 768px) {\n          .nav-center {\n            order: 3;\n            width: 100%;\n            margin-top: 10px;\n          }\n\n          .nav-right {\n            width: 100%;\n            justify-content: center;\n          }\n\n          .nav-links {\n            display: ${p?"flex":"none"};\n            flex-direction: column;\n            width: 100%;\n            margin-top: 1rem;\n          }\n\n          .hamburger {\n            display: block;\n          }\n        }\n      `})]})}}}]);
//# sourceMappingURL=296.bf5ed4fa.chunk.js.map