"use strict";(self.webpackChunkplan=self.webpackChunkplan||[]).push([[473],{473:(e,n,r)=>{r.r(n),r.d(n,{default:()=>x});var t=r(43),a=r(791),i=r(472),s=r(729),l=r(147),o=r(216),c=r(999),d=r(579);const p=["Photography","Food","Music","Catering","Venue","Return Gift","Travel","DJ","Cakes & Bakery","Decoration","Orchestra","Wedding","Beautician","Other"],u={pageWrapper:{backgroundColor:"#003f66",minHeight:"100vh",paddingBottom:"40px"},card:{maxWidth:"800px",margin:"40px auto",backgroundColor:"#ffffff",borderRadius:"12px",padding:"30px",boxShadow:"0 4px 12px rgba(0,0,0,0.1)",color:"#003f66"},title:{textAlign:"center",marginBottom:"24px",fontSize:"28px",fontWeight:"700"},form:{display:"flex",flexDirection:"column",gap:"16px"},row:{display:"flex",gap:"16px",flexWrap:"wrap"},input:{flex:1,padding:"12px",borderRadius:"6px",border:"1px solid #ccc",fontSize:"16px"},select:{flex:1,padding:"12px",borderRadius:"6px",border:"1px solid #ccc",fontSize:"16px",backgroundColor:"#f9f9f9"},textarea:{padding:"12px",borderRadius:"6px",border:"1px solid #ccc",resize:"vertical",minHeight:"100px",fontSize:"16px"},fileLabel:{display:"flex",flexDirection:"column",fontSize:"14px",color:"#555"},fileInput:{marginTop:"8px"},previewContainer:{position:"relative",display:"inline-block",marginTop:"10px"},imagePreview:{width:"150px",height:"auto",borderRadius:"8px",objectFit:"cover"},removeButton:{position:"absolute",top:"0",right:"0",backgroundColor:"rgba(121,112,112,0.7)",color:"#fff",borderRadius:"50%",width:"20px",height:"20px",textAlign:"center",lineHeight:"20px",cursor:"pointer"},menuImagePreviewContainer:{display:"flex",gap:"10px",marginTop:"10px",flexWrap:"wrap"},submitButton:{marginTop:"16px",padding:"14px",backgroundColor:"#003f66",color:"#ffffff",border:"none",borderRadius:"6px",cursor:"pointer",fontSize:"16px",fontWeight:"600",transition:"background-color 0.2s"}},x=()=>{const[e,n]=(0,t.useState)(""),[r,x]=(0,t.useState)(""),[g,m]=(0,t.useState)(p[0]),[h,f]=(0,t.useState)(""),[v,b]=(0,t.useState)(""),[y,j]=(0,t.useState)(""),[w,k]=(0,t.useState)(""),[C,S]=(0,t.useState)(""),[P,N]=(0,t.useState)(""),[R,q]=(0,t.useState)(null),[z,I]=(0,t.useState)([]),[D,M]=(0,t.useState)(null),[B,$]=(0,t.useState)([]),[L,O]=(0,t.useState)(!1),W=(0,o.Zp)(),G=(0,s.xI)().currentUser;return(0,d.jsxs)("div",{style:u.pageWrapper,children:[(0,d.jsx)(c.A,{}),(0,d.jsxs)("div",{style:u.card,children:[(0,d.jsx)("h1",{style:u.title,children:"Post Your Service"}),(0,d.jsxs)("form",{onSubmit:async n=>{if(n.preventDefault(),!R||!z.length)return alert("Please select a main image and at least one menu image.");O(!0);try{const n=(0,l.KR)(a.IG,`users/${G.uid}/${Date.now()}-${R.name}`);await(0,l.D)(n,R);const t=await(0,l.qk)(n),s=await Promise.all(z.map((async e=>{const n=(0,l.KR)(a.IG,`users/${G.uid}/${Date.now()}-${e.name}`);return await(0,l.D)(n,e),(0,l.qk)(n)})));await(0,i.gS)((0,i.rJ)(a.db,"postorder"),{businessname:e,description:r,eventname:g,experience:h,from:v,hours:y,image:t,location:w,menu:s,mobilenumber:C,name:P,vendorid:G.uid}),alert("Service posted successfully!"),W("/home")}catch(t){console.error(t),alert("Error posting service. Please try again.")}finally{O(!1)}},style:u.form,children:[(0,d.jsxs)("div",{style:u.row,children:[(0,d.jsx)("input",{style:u.input,type:"text",placeholder:"Business Name",value:e,onChange:e=>n(e.target.value),required:!0}),(0,d.jsx)("select",{style:u.select,value:g,onChange:e=>m(e.target.value),required:!0,children:p.map((e=>(0,d.jsx)("option",{value:e,children:e},e)))})]}),(0,d.jsx)("textarea",{style:u.textarea,placeholder:"Description",value:r,onChange:e=>x(e.target.value),required:!0}),(0,d.jsxs)("div",{style:u.row,children:[(0,d.jsx)("input",{style:u.input,type:"number",placeholder:"Experience (years)",value:h,onChange:e=>f(e.target.value),required:!0}),(0,d.jsx)("input",{style:u.input,type:"text",placeholder:"Location",value:w,onChange:e=>k(e.target.value),required:!0})]}),(0,d.jsxs)("div",{style:u.row,children:[(0,d.jsx)("input",{style:u.input,type:"text",placeholder:"Working Hours",value:y,onChange:e=>j(e.target.value),required:!0}),(0,d.jsx)("input",{style:u.input,type:"date",placeholder:"From",value:v,onChange:e=>b(e.target.value),required:!0})]}),(0,d.jsxs)("div",{style:u.row,children:[(0,d.jsx)("input",{style:u.input,type:"tel",placeholder:"Mobile Number",value:C,onChange:e=>S(e.target.value),required:!0}),(0,d.jsx)("input",{style:u.input,type:"text",placeholder:"Your Name",value:P,onChange:e=>N(e.target.value),required:!0})]}),(0,d.jsxs)("label",{style:u.fileLabel,children:["Main Image *",(0,d.jsx)("input",{style:u.fileInput,type:"file",accept:"image/*",onChange:e=>{const n=e.target.files[0];n&&(q(n),M(URL.createObjectURL(n)))},required:!0}),D&&(0,d.jsxs)("div",{style:u.previewContainer,children:[(0,d.jsx)("img",{src:D,alt:"Main Preview",style:u.imagePreview}),(0,d.jsx)("span",{onClick:()=>{q(null),M(null)},style:u.removeButton,children:"\xd7"})]})]}),(0,d.jsxs)("label",{style:u.fileLabel,children:["Menu Images * (multiple)",(0,d.jsx)("input",{style:u.fileInput,type:"file",accept:"image/*",multiple:!0,onChange:e=>{const n=Array.from(e.target.files);n.length&&(I(n),$(n.map((e=>URL.createObjectURL(e)))))},required:!0}),(0,d.jsx)("div",{style:u.menuImagePreviewContainer,children:B.map(((e,n)=>(0,d.jsxs)("div",{style:u.previewContainer,children:[(0,d.jsx)("img",{src:e,alt:`Menu Preview ${n+1}`,style:u.imagePreview}),(0,d.jsx)("span",{onClick:()=>(e=>{const n=[...z];n.splice(e,1),I(n);const r=[...B];r.splice(e,1),$(r)})(n),style:u.removeButton,children:"\xd7"})]},n)))})]}),(0,d.jsx)("button",{style:u.submitButton,disabled:L,children:L?"Posting\u2026":"Post Service"})]})]})]})}},999:(e,n,r)=>{r.d(n,{A:()=>d});var t=r(43),a=r(204),i=r(216),s=r(791),l=r(472),o=r(729),c=r(579);const d=()=>{const[e,n]=(0,t.useState)(""),[r,d]=(0,t.useState)([]),[p,u]=(0,t.useState)(!1),[x,g]=(0,t.useState)(!1),m=(0,i.Zp)(),h=(0,o.xI)().currentUser;(0,t.useEffect)((()=>{(async()=>{if(h)try{const e=(0,l.P)((0,l.rJ)(s.db,"webchat"),(0,l._M)("receiverId","==",h.uid),(0,l.My)("time","desc"));await(0,l.GG)(e)}catch(e){console.error("Error fetching messages:",e)}})()}),[h]);return(0,c.jsxs)("nav",{className:"navbar",children:[(0,c.jsxs)("div",{className:"navbar-main",children:[(0,c.jsx)("div",{className:"nav-left",children:(0,c.jsx)("div",{className:"navbar-logo",children:"PlanOra"})}),(0,c.jsx)("div",{className:"nav-center",children:(0,c.jsxs)("div",{className:"navbar-search",children:[(0,c.jsx)(a.KSO,{className:"search-icon"}),(0,c.jsx)("input",{type:"text",placeholder:"Search...",value:e,onChange:async e=>{const r=e.target.value;if(n(r),r){u(!0);try{const e=(0,l.P)((0,l.rJ)(s.db,"postorder"),(0,l._M)("businessname",">=",r),(0,l._M)("businessname","<=",r+"\uf8ff")),n=await(0,l.GG)(e);d(n.docs.map((e=>({id:e.id,...e.data()}))))}catch(t){console.error("Error fetching companies:",t)}finally{u(!1)}}else d([])}}),e&&(0,c.jsx)("div",{className:"search-results",children:p?(0,c.jsx)("div",{className:"loading",children:"Loading..."}):r.length?r.map((e=>(0,c.jsx)("div",{className:"result-item",onClick:()=>(m(`/company/${e.id}`),n(""),d([]),void g(!1)),children:e.businessname},e.id))):(0,c.jsx)("div",{className:"no-results",children:"No matches found"})})]})}),(0,c.jsx)("div",{className:"nav-right",children:(0,c.jsxs)("ul",{className:"nav-links "+(x?"active":""),children:[(0,c.jsx)("li",{onClick:()=>{m("/home"),g(!1)},children:"Home"}),(0,c.jsx)("li",{onClick:()=>{m("/orders"),g(!1)},children:"Orders"}),(0,c.jsx)("li",{onClick:()=>{m("/post-order"),g(!1)},children:"Post Order"}),(0,c.jsxs)("li",{onClick:()=>{m("/profile"),g(!1)},children:[(0,c.jsx)(a.x$1,{})," Profile"]}),(0,c.jsxs)("li",{onClick:()=>{m("/messages"),g(!1)},children:[(0,c.jsx)(a.maD,{})," Messages"]}),(0,c.jsxs)("li",{onClick:()=>{m("/cart"),g(!1)},children:[(0,c.jsx)(a.AsH,{})," Cart"]})]})}),(0,c.jsx)("div",{className:"hamburger",onClick:()=>g((e=>!e)),children:x?(0,c.jsx)(a.QCr,{}):(0,c.jsx)(a.OXb,{})})]}),(0,c.jsx)("style",{children:`\n        * {\n          box-sizing: border-box;\n          margin: 0;\n          padding: 0;\n        }\n        .navbar {\n          background: #003f66;\n          color: #fff;\n          padding: 0.5rem 1rem;\n          position: sticky;\n          top: 0;\n          z-index: 1000;\n        }\n        .navbar-main {\n          display: flex;\n          align-items: center;\n          justify-content: space-between;\n          flex-wrap: wrap;\n        }\n\n        .nav-left {\n          flex: 1;\n        }\n\n        .nav-center {\n          flex: 2;\n          display: flex;\n          justify-content: center;\n        }\n\n        .nav-right {\n          flex: 2;\n          display: flex;\n          justify-content: flex-end;\n        }\n\n        .navbar-logo {\n          font-size: 1.5rem;\n          font-weight: bold;\n        }\n\n        .navbar-search {\n          position: relative;\n          width: 100%;\n          max-width: 400px;\n          background: rgba(255,255,255,0.2);\n          border-radius: 20px;\n          display: flex;\n          align-items: center;\n          padding: 0.3rem 0.75rem;\n        }\n\n        .navbar-search input {\n          flex: 1;\n          background: transparent;\n          border: none;\n          color: #fff;\n          margin-left: 0.5rem;\n          font-size: 0.9rem;\n          outline: none;\n        }\n\n        .search-icon {\n          color: #ddd;\n        }\n\n        .search-results {\n          position: absolute;\n          top: 110%;\n          left: 0;\n          width: 100%;\n          background: #fff;\n          color: #333;\n          border-radius: 0 0 10px 10px;\n          box-shadow: 0 4px 12px rgba(0,0,0,0.15);\n          max-height: 200px;\n          overflow-y: auto;\n          z-index: 1001;\n        }\n\n        .result-item, .loading, .no-results {\n          padding: 0.5rem;\n          border-bottom: 1px solid #eee;\n          cursor: pointer;\n        }\n\n        .result-item:hover {\n          background: #f0f0f0;\n        }\n\n        .hamburger {\n          display: none;\n          font-size: 1.5rem;\n          color: #fff;\n          cursor: pointer;\n        }\n\n        .nav-links {\n          list-style: none;\n          display: flex;\n          gap: 1.5rem;\n          align-items: center;\n        }\n\n        .nav-links li {\n          cursor: pointer;\n          padding: 0.5rem;\n          border-radius: 6px;\n          transition: background 0.2s;\n          display: flex;\n          align-items: center;\n          gap: 0.3rem;\n        }\n\n        .nav-links li:hover {\n          background: rgba(255, 255, 255, 0.2);\n        }\n\n        @media (max-width: 768px) {\n          .nav-center {\n            order: 3;\n            width: 100%;\n            margin-top: 10px;\n          }\n\n          .nav-right {\n            width: 100%;\n            justify-content: center;\n          }\n\n          .nav-links {\n            display: ${x?"flex":"none"};\n            flex-direction: column;\n            width: 100%;\n            margin-top: 1rem;\n          }\n\n          .hamburger {\n            display: block;\n          }\n        }\n      `})]})}}}]);
//# sourceMappingURL=473.96536d68.chunk.js.map